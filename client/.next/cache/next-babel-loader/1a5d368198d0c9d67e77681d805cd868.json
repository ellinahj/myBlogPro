{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/hj/develop/myproject/myDiary/client/src/containers/blog/PostContainer.js\";\nvar __jsx = React.createElement;\nimport { useSelector } from 'react-redux';\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport DatePicker, { registerLocale } from 'react-datepicker';\nimport ko from 'date-fns/locale/ko';\nimport Router from 'next/router';\nimport styled from 'styled-components';\nimport Con from '../../components/common/Container';\nimport Button from '../../components/common/Button';\nimport UploadComponent from '../../components/blog/ThreePhotoUpload';\nimport { setBlog, getCate } from '../../../src/api/blog';\nexport default function addContainer() {\n  var _this = this,\n      _jsx;\n\n  var _useState = useState(''),\n      startDate = _useState[0],\n      setStartDate = _useState[1]; // const [category, setCategory] = useState([]);\n\n\n  var _useState2 = useState(0),\n      radioIndex = _useState2[0],\n      setRadioIndex = _useState2[1];\n\n  var _useState3 = useState(''),\n      imgFile = _useState3[0],\n      setImgFile = _useState3[1];\n\n  var userColor = useSelector(function (state) {\n    return state.common.userColor;\n  });\n  var category = useSelector(function (state) {\n    return state.common.category;\n  });\n  console.log(category);\n\n  var handleChange = function handleChange(date) {\n    setStartDate(date);\n  };\n\n  registerLocale('ko', ko);\n\n  var checked = function checked(e, index) {\n    setRadioIndex(index);\n  };\n\n  var _imgFormData = function imgFormData(file) {\n    setImgFile(file);\n  }; // useEffect(() => {\n  //   const getToken = localStorage.getItem('mydiary_token');\n  //   if (getToken) {\n  //     const config = {\n  //       headers: {\n  //         access_token: getToken\n  //       }\n  //     };\n  //     getCate(config)\n  //       .then(res => {\n  //         if (res.status === 200 && res.data) {\n  //           console.log(res, 'res');\n  //           setCategory(res.data.data);\n  //         }\n  //       })\n  //       .catch(err => {\n  //         Router.push('/login');\n  //       });\n  //   }\n  // }, []);\n\n\n  var upload = function upload() {\n    var formData = new FormData();\n    imgFile && imgFile.forEach(function (item, index) {\n      return formData.append(\"file\", item);\n    });\n    console.log(imgFile, 'file');\n    console.log(formData, 'formData');\n    var data = {\n      id: 1,\n      id2: 'id2'\n    };\n    formData.append('data', JSON.stringify(data));\n    var getToken = localStorage.getItem('mydiary_token');\n\n    if (getToken) {\n      var config = {\n        access_token: getToken\n      }; // console.log(data, 'in data');\n\n      setBlog(config, formData).then(function (res) {\n        if (res.status === 200 && res.data) {\n          console.log(res.data, 'post data');\n        }\n      });\n    }\n  };\n\n  return __jsx(Contaniner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, __jsx(Subject, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, \"\\uBD84\\uB958\"), __jsx(React.Fragment, null, category && category.length > 0 && category.map(function (item, index) {\n    return __jsx(\"label\", {\n      className: \"radio_container\",\n      key: index,\n      userColor: userColor,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, item.title, __jsx(\"input\", {\n      type: \"radio\",\n      onChange: function onChange(e) {\n        return checked(e, index);\n      },\n      checked: radioIndex === index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 19\n      }\n    }), __jsx(\"span\", {\n      className: \"checkmark\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 19\n      }\n    }));\n  }))), __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, __jsx(Subject, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, \"\\uC81C\\uBAA9\"), __jsx(Input, {\n    type: \"text\",\n    name: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  })), __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, __jsx(Subject, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, \"\\uB0A0\\uC9DC\"), __jsx(DatePicker, (_jsx = {\n    selected: startDate,\n    onChange: handleChange,\n    dateFormat: \"Pp\",\n    locale: \"ko\",\n    showTimeSelect: true,\n    timeFormat: \"HH:mm\",\n    showPopperArrow: false\n  }, _defineProperty(_jsx, \"showPopperArrow\", false), _defineProperty(_jsx, \"timeIntervals\", 30), _defineProperty(_jsx, \"dateFormat\", \"yyyy/MM/dd aa hh:mm\"), _defineProperty(_jsx, \"placeholderText\", \"\\uB0A0\\uC9DC \\uC120\\uD0DD\"), _defineProperty(_jsx, \"__self\", this), _defineProperty(_jsx, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 9\n  }), _jsx))), __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }\n  }, __jsx(Subject, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, \"\\uC7A5\\uC18C\"), __jsx(Button, {\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, \"\\uC7A5\\uC18C\\uCD94\\uAC00\")), __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }, __jsx(Subject, {\n    name: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, \"\\uB0B4\\uC6A9\"), __jsx(Textarea, {\n    type: \"text\",\n    maxLength: \"200\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  })), __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }\n  }, __jsx(Subject, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }, \"\\uC0AC\\uC9C4\\uCCA8\\uBD80\"), __jsx(UploadComponent, {\n    imgFormData: function imgFormData(e) {\n      return _imgFormData(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  })), __jsx(RowRight, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }, __jsx(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, __jsx(SubmitBtn, {\n    onClick: function onClick(e) {\n      return upload(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }, \"\\uC800\\uC7A5\"))));\n}\nvar Contaniner = styled(Con).withConfig({\n  displayName: \"PostContainer__Contaniner\",\n  componentId: \"u8kmlp-0\"\n})([\"display:flex;flex-direction:column;margin-top:30px;\"]);\nvar Row = styled.div.withConfig({\n  displayName: \"PostContainer__Row\",\n  componentId: \"u8kmlp-1\"\n})([\"display:flex;justify-content:flex-start;padding:20px 15px;box-sizing:border-box;align-items:center;.end{margin-left:auto;}.react-datepicker__input-container input{height:30px;font-size:15px;line-height:30px;padding-left:5px;background:#eee;outline:none;border:0;border-radius:5px;::placeholder{color:#000;}}.radio_container{display:block;position:relative;padding-left:30px;margin-right:30px;cursor:pointer;font-size:16px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.radio_container input{position:absolute;opacity:0;cursor:pointer;height:0;width:0;}.checkmark{position:absolute;top:3px;left:0;height:21px;width:21px;background:\", \";border-radius:50%;}.radio_container:hover input ~ .checkmark{background-color:\", \";}.radio_container input:checked ~ .checkmark{background-color:\", \";}.checkmark:after{content:'';position:absolute;display:none;}.radio_container input:checked ~ .checkmark:after{display:block;}.radio_container .checkmark:after{top:7px;left:7px;width:6px;height:6px;border-radius:50%;background:\", \";}\"], function (props) {\n  return props.userColor || '#aaa';\n}, function (props) {\n  return props.userColor || '#aaa';\n}, function (props) {\n  return props.userColor || '#aaa';\n}, function (props) {\n  return props.userColor || '#fff';\n});\nvar Col = styled.div.withConfig({\n  displayName: \"PostContainer__Col\",\n  componentId: \"u8kmlp-2\"\n})([\"display:inline-flex;svg:hover{fill:\", \";cursor:pointer;}\"], function (props) {\n  return props.userColor;\n});\nvar Subject = styled.div.withConfig({\n  displayName: \"PostContainer__Subject\",\n  componentId: \"u8kmlp-3\"\n})([\"margin-right:20px;white-space:pre;\"]);\nvar Input = styled.input.withConfig({\n  displayName: \"PostContainer__Input\",\n  componentId: \"u8kmlp-4\"\n})([\"flex:1;height:30px;border:none;background:#eee;border-radius:5px;\"]);\nvar Textarea = styled.textarea.withConfig({\n  displayName: \"PostContainer__Textarea\",\n  componentId: \"u8kmlp-5\"\n})([\"flex:1;min-height:200px;\"]);\nvar SubmitBtn = styled.button.withConfig({\n  displayName: \"PostContainer__SubmitBtn\",\n  componentId: \"u8kmlp-6\"\n})([\"padding:5px 10px;cursor:pointer;font-size:16px;\"]);\nvar RowRight = styled(Row).withConfig({\n  displayName: \"PostContainer__RowRight\",\n  componentId: \"u8kmlp-7\"\n})([\"justify-content:center;\"]);","map":{"version":3,"sources":["/Users/hj/develop/myproject/myDiary/client/src/containers/blog/PostContainer.js"],"names":["useSelector","React","useState","useEffect","axios","DatePicker","registerLocale","ko","Router","styled","Con","Button","UploadComponent","setBlog","getCate","addContainer","startDate","setStartDate","radioIndex","setRadioIndex","imgFile","setImgFile","userColor","state","common","category","console","log","handleChange","date","checked","e","index","imgFormData","file","upload","formData","FormData","forEach","item","append","data","id","id2","JSON","stringify","getToken","localStorage","getItem","config","access_token","then","res","status","length","map","title","Contaniner","Row","div","props","Col","Subject","Input","input","Textarea","textarea","SubmitBtn","button","RowRight"],"mappings":";;;AAAA,SAASA,WAAT,QAA4B,aAA5B;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,IAAqBC,cAArB,QAA2C,kBAA3C;AACA,OAAOC,EAAP,MAAe,oBAAf;AACA,OAAOC,MAAP,MAAmB,aAAnB;AAEA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,GAAP,MAAgB,mCAAhB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,eAAP,MAA4B,wCAA5B;AACA,SAASC,OAAT,EAAkBC,OAAlB,QAAiC,uBAAjC;AAEA,eAAe,SAASC,YAAT,GAAwB;AAAA;AAAA;;AAAA,kBACHb,QAAQ,CAAC,EAAD,CADL;AAAA,MAC9Bc,SAD8B;AAAA,MACnBC,YADmB,iBAErC;;;AAFqC,mBAGDf,QAAQ,CAAC,CAAD,CAHP;AAAA,MAG9BgB,UAH8B;AAAA,MAGlBC,aAHkB;;AAAA,mBAIPjB,QAAQ,CAAC,EAAD,CAJD;AAAA,MAI9BkB,OAJ8B;AAAA,MAIrBC,UAJqB;;AAKrC,MAAMC,SAAS,GAAGtB,WAAW,CAAC,UAAAuB,KAAK;AAAA,WAAIA,KAAK,CAACC,MAAN,CAAaF,SAAjB;AAAA,GAAN,CAA7B;AACA,MAAMG,QAAQ,GAAGzB,WAAW,CAAC,UAAAuB,KAAK;AAAA,WAAIA,KAAK,CAACC,MAAN,CAAaC,QAAjB;AAAA,GAAN,CAA5B;AAEAC,EAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;;AACA,MAAMG,YAAY,GAAG,SAAfA,YAAe,CAAAC,IAAI,EAAI;AAC3BZ,IAAAA,YAAY,CAACY,IAAD,CAAZ;AACD,GAFD;;AAGAvB,EAAAA,cAAc,CAAC,IAAD,EAAOC,EAAP,CAAd;;AACA,MAAMuB,OAAO,GAAG,SAAVA,OAAU,CAACC,CAAD,EAAIC,KAAJ,EAAc;AAC5Bb,IAAAA,aAAa,CAACa,KAAD,CAAb;AACD,GAFD;;AAGA,MAAMC,YAAW,GAAG,SAAdA,WAAc,CAAAC,IAAI,EAAI;AAC1Bb,IAAAA,UAAU,CAACa,IAAD,CAAV;AACD,GAFD,CAhBqC,CAmBrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;AACnB,QAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAjB,IAAAA,OAAO,IAAIA,OAAO,CAACkB,OAAR,CAAgB,UAACC,IAAD,EAAOP,KAAP;AAAA,aAAiBI,QAAQ,CAACI,MAAT,SAAwBD,IAAxB,CAAjB;AAAA,KAAhB,CAAX;AACAb,IAAAA,OAAO,CAACC,GAAR,CAAYP,OAAZ,EAAqB,MAArB;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAYS,QAAZ,EAAsB,UAAtB;AACA,QAAMK,IAAI,GAAG;AACXC,MAAAA,EAAE,EAAE,CADO;AAEXC,MAAAA,GAAG,EAAE;AAFM,KAAb;AAIAP,IAAAA,QAAQ,CAACI,MAAT,CAAgB,MAAhB,EAAwBI,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAAxB;AACA,QAAMK,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAjB;;AACA,QAAIF,QAAJ,EAAc;AACZ,UAAMG,MAAM,GAAG;AACbC,QAAAA,YAAY,EAAEJ;AADD,OAAf,CADY,CAIZ;;AACAjC,MAAAA,OAAO,CAACoC,MAAD,EAASb,QAAT,CAAP,CAA0Be,IAA1B,CAA+B,UAAAC,GAAG,EAAI;AACpC,YAAIA,GAAG,CAACC,MAAJ,KAAe,GAAf,IAAsBD,GAAG,CAACX,IAA9B,EAAoC;AAClCf,UAAAA,OAAO,CAACC,GAAR,CAAYyB,GAAG,CAACX,IAAhB,EAAsB,WAAtB;AACD;AACF,OAJD;AAKD;AACF,GAtBD;;AAuBA,SACE,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEE,4BACGhB,QAAQ,IACPA,QAAQ,CAAC6B,MAAT,GAAkB,CADnB,IAEC7B,QAAQ,CAAC8B,GAAT,CAAa,UAAChB,IAAD,EAAOP,KAAP,EAAiB;AAC5B,WACE;AAAO,MAAA,SAAS,EAAC,iBAAjB;AAAmC,MAAA,GAAG,EAAEA,KAAxC;AAA+C,MAAA,SAAS,EAAEV,SAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGiB,IAAI,CAACiB,KADR,EAEE;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,MAAA,QAAQ,EAAE,kBAAAzB,CAAC;AAAA,eAAID,OAAO,CAACC,CAAD,EAAIC,KAAJ,CAAX;AAAA,OAA/B;AAAsD,MAAA,OAAO,EAAEd,UAAU,KAAKc,KAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE;AAAM,MAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,CADF;AAOD,GARD,CAHJ,CAFF,CADF,EAiBE,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEE,MAAC,KAAD;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,IAAI,EAAC,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAjBF,EAqBE,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEE,MAAC,UAAD;AACE,IAAA,QAAQ,EAAEhB,SADZ;AAEE,IAAA,QAAQ,EAAEY,YAFZ;AAGE,IAAA,UAAU,EAAC,IAHb;AAIE,IAAA,MAAM,EAAC,IAJT;AAKE,IAAA,cAAc,MALhB;AAME,IAAA,UAAU,EAAC,OANb;AAOE,IAAA,eAAe,EAAE;AAPnB,8CAQmB,KARnB,0CASiB,EATjB,uCAUa,qBAVb,4CAWkB,2BAXlB;AAAA;AAAA;AAAA;AAAA,YAFF,CArBF,EAqCE,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEE,MAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAFF,CArCF,EAyCE,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,OAAD;AAAS,IAAA,IAAI,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEE,MAAC,QAAD;AAAU,IAAA,IAAI,EAAC,MAAf;AAAsB,IAAA,SAAS,EAAC,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAzCF,EA6CE,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,EAEE,MAAC,eAAD;AAAiB,IAAA,WAAW,EAAE,qBAAAG,CAAC;AAAA,aAAIE,YAAW,CAACF,CAAD,CAAf;AAAA,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CA7CF,EAiDE,MAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,SAAD;AAAW,IAAA,OAAO,EAAE,iBAAAA,CAAC;AAAA,aAAII,MAAM,CAACJ,CAAD,CAAV;AAAA,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,CADF,CAjDF,CADF;AAyDD;AACD,IAAM0B,UAAU,GAAGhD,MAAM,CAACC,GAAD,CAAT;AAAA;AAAA;AAAA,2DAAhB;AAKA,IAAMgD,GAAG,GAAGjD,MAAM,CAACkD,GAAV;AAAA;AAAA;AAAA,2iCAoDS,UAAAC,KAAK;AAAA,SAAIA,KAAK,CAACtC,SAAN,IAAmB,MAAvB;AAAA,CApDd,EA0De,UAAAsC,KAAK;AAAA,SAAIA,KAAK,CAACtC,SAAN,IAAmB,MAAvB;AAAA,CA1DpB,EA+De,UAAAsC,KAAK;AAAA,SAAIA,KAAK,CAACtC,SAAN,IAAmB,MAAvB;AAAA,CA/DpB,EAqFS,UAAAsC,KAAK;AAAA,SAAIA,KAAK,CAACtC,SAAN,IAAmB,MAAvB;AAAA,CArFd,CAAT;AAsGA,IAAMuC,GAAG,GAAGpD,MAAM,CAACkD,GAAV;AAAA;AAAA;AAAA,iEAGG,UAAAC,KAAK;AAAA,SAAIA,KAAK,CAACtC,SAAV;AAAA,CAHR,CAAT;AAOA,IAAMwC,OAAO,GAAGrD,MAAM,CAACkD,GAAV;AAAA;AAAA;AAAA,0CAAb;AAIA,IAAMI,KAAK,GAAGtD,MAAM,CAACuD,KAAV;AAAA;AAAA;AAAA,yEAAX;AAOA,IAAMC,QAAQ,GAAGxD,MAAM,CAACyD,QAAV;AAAA;AAAA;AAAA,gCAAd;AAIA,IAAMC,SAAS,GAAG1D,MAAM,CAAC2D,MAAV;AAAA;AAAA;AAAA,uDAAf;AAKA,IAAMC,QAAQ,GAAG5D,MAAM,CAACiD,GAAD,CAAT;AAAA;AAAA;AAAA,+BAAd","sourcesContent":["import { useSelector } from 'react-redux';\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport DatePicker, { registerLocale } from 'react-datepicker';\nimport ko from 'date-fns/locale/ko';\nimport Router from 'next/router';\n\nimport styled from 'styled-components';\nimport Con from '../../components/common/Container';\nimport Button from '../../components/common/Button';\nimport UploadComponent from '../../components/blog/ThreePhotoUpload';\nimport { setBlog, getCate } from '../../../src/api/blog';\n\nexport default function addContainer() {\n  const [startDate, setStartDate] = useState('');\n  // const [category, setCategory] = useState([]);\n  const [radioIndex, setRadioIndex] = useState(0);\n  const [imgFile, setImgFile] = useState('');\n  const userColor = useSelector(state => state.common.userColor);\n  const category = useSelector(state => state.common.category);\n\n  console.log(category);\n  const handleChange = date => {\n    setStartDate(date);\n  };\n  registerLocale('ko', ko);\n  const checked = (e, index) => {\n    setRadioIndex(index);\n  };\n  const imgFormData = file => {\n    setImgFile(file);\n  };\n  // useEffect(() => {\n  //   const getToken = localStorage.getItem('mydiary_token');\n  //   if (getToken) {\n  //     const config = {\n  //       headers: {\n  //         access_token: getToken\n  //       }\n  //     };\n  //     getCate(config)\n  //       .then(res => {\n  //         if (res.status === 200 && res.data) {\n  //           console.log(res, 'res');\n  //           setCategory(res.data.data);\n  //         }\n  //       })\n  //       .catch(err => {\n  //         Router.push('/login');\n  //       });\n  //   }\n  // }, []);\n  const upload = () => {\n    const formData = new FormData();\n    imgFile && imgFile.forEach((item, index) => formData.append(`file`, item));\n    console.log(imgFile, 'file');\n    console.log(formData, 'formData');\n    const data = {\n      id: 1,\n      id2: 'id2'\n    };\n    formData.append('data', JSON.stringify(data));\n    const getToken = localStorage.getItem('mydiary_token');\n    if (getToken) {\n      const config = {\n        access_token: getToken\n      };\n      // console.log(data, 'in data');\n      setBlog(config, formData).then(res => {\n        if (res.status === 200 && res.data) {\n          console.log(res.data, 'post data');\n        }\n      });\n    }\n  };\n  return (\n    <Contaniner>\n      <Row>\n        <Subject>분류</Subject>\n        <>\n          {category &&\n            category.length > 0 &&\n            category.map((item, index) => {\n              return (\n                <label className=\"radio_container\" key={index} userColor={userColor}>\n                  {item.title}\n                  <input type=\"radio\" onChange={e => checked(e, index)} checked={radioIndex === index} />\n                  <span className=\"checkmark\"></span>\n                </label>\n              );\n            })}\n        </>\n      </Row>\n      <Row>\n        <Subject>제목</Subject>\n        <Input type=\"text\" name=\"title\"></Input>\n      </Row>\n      <Row>\n        <Subject>날짜</Subject>\n        <DatePicker\n          selected={startDate}\n          onChange={handleChange}\n          dateFormat=\"Pp\"\n          locale=\"ko\"\n          showTimeSelect\n          timeFormat=\"HH:mm\"\n          showPopperArrow={false}\n          showPopperArrow={false}\n          timeIntervals={30}\n          dateFormat=\"yyyy/MM/dd aa hh:mm\"\n          placeholderText=\"날짜 선택\"\n        />\n      </Row>\n      <Row>\n        <Subject>장소</Subject>\n        <Button type=\"button\">장소추가</Button>\n      </Row>\n      <Row>\n        <Subject name=\"content\">내용</Subject>\n        <Textarea type=\"text\" maxLength=\"200\"></Textarea>\n      </Row>\n      <Row>\n        <Subject>사진첨부</Subject>\n        <UploadComponent imgFormData={e => imgFormData(e)} />\n      </Row>\n      <RowRight>\n        <Col>\n          <SubmitBtn onClick={e => upload(e)}>저장</SubmitBtn>\n        </Col>\n      </RowRight>\n    </Contaniner>\n  );\n}\nconst Contaniner = styled(Con)`\n  display: flex;\n  flex-direction: column;\n  margin-top: 30px;\n`;\nconst Row = styled.div`\n  display: flex;\n  justify-content: flex-start;\n  padding: 20px 15px;\n  box-sizing: border-box;\n  align-items: center;\n  .end {\n    margin-left: auto;\n  }\n  .react-datepicker__input-container input {\n    height: 30px;\n    font-size: 15px;\n    line-height: 30px;\n    padding-left: 5px;\n    background: #eee;\n    outline: none;\n    border: 0;\n    border-radius: 5px;\n    ::placeholder {\n      color: #000;\n    }\n  }\n  /* Customize the label (the container) */\n  .radio_container {\n    display: block;\n    position: relative;\n    padding-left: 30px;\n    margin-right: 30px;\n    cursor: pointer;\n    font-size: 16px;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n  }\n\n  /* Hide the browser's default radio button */\n  .radio_container input {\n    position: absolute;\n    opacity: 0;\n    cursor: pointer;\n    height: 0;\n    width: 0;\n  }\n\n  /* Create a custom radio button */\n  .checkmark {\n    position: absolute;\n    top: 3px;\n    left: 0;\n    height: 21px;\n    width: 21px;\n    background: ${props => props.userColor || '#aaa'};\n    border-radius: 50%;\n  }\n\n  /* On mouse-over, add a grey background color */\n  .radio_container:hover input ~ .checkmark {\n    background-color: ${props => props.userColor || '#aaa'};\n  }\n\n  /* When the radio button is checked, add a blue background */\n  .radio_container input:checked ~ .checkmark {\n    background-color: ${props => props.userColor || '#aaa'};\n  }\n\n  /* Create the indicator (the dot/circle - hidden when not checked) */\n  .checkmark:after {\n    content: '';\n    position: absolute;\n    display: none;\n  }\n\n  /* Show the indicator (dot/circle) when checked */\n  .radio_container input:checked ~ .checkmark:after {\n    display: block;\n  }\n\n  /* Style the indicator (dot/circle) */\n  .radio_container .checkmark:after {\n    top: 7px;\n    left: 7px;\n    width: 6px;\n    height: 6px;\n    border-radius: 50%;\n    background: ${props => props.userColor || '#fff'};\n  }\n  /* .check_container {\n    display: block;\n    position: relative;\n    padding-left: 25px;\n    margin-right: 15px;\n    cursor: pointer;\n    font-size: 16px;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n  }\n  //check box\n  /* Hide the browser's default checkbox */\n`;\nconst Col = styled.div`\n  display: inline-flex;\n  svg:hover {\n    fill: ${props => props.userColor};\n    cursor: pointer;\n  }\n`;\nconst Subject = styled.div`\n  margin-right: 20px;\n  white-space: pre;\n`;\nconst Input = styled.input`\n  flex: 1;\n  height: 30px;\n  border: none;\n  background: #eee;\n  border-radius: 5px;\n`;\nconst Textarea = styled.textarea`\n  flex: 1;\n  min-height: 200px;\n`;\nconst SubmitBtn = styled.button`\n  padding: 5px 10px;\n  cursor: pointer;\n  font-size: 16px;\n`;\nconst RowRight = styled(Row)`\n  justify-content: center;\n`;\n"]},"metadata":{},"sourceType":"module"}