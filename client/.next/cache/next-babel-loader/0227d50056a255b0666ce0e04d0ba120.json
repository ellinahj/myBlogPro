{"ast":null,"code":"var _jsxFileName = \"/Users/hj/develop/myproject/myDiary/client/src/containers/mypage/EditBasicInfo.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport ThemeChange from '../../components/mypage/ThemeChange';\nimport { useSelector } from 'react-redux';\nimport Container from '../../components/common/Container';\nimport ProfileChange from '../../components/common/PhotoUpload';\nimport { theme, BasicTitle, BasicButton } from '../../utils/theme';\nimport { updateInfo } from '../../api/user';\nexport default function InfoContainer(props) {\n  const {\n    showEdit,\n    clickEditPw,\n    clickEdit\n  } = props;\n  const userInfo = useSelector(state => state.common.userInfo);\n  const userColor = useSelector(state => state.common.userColor);\n  const {\n    0: changeImgFile,\n    1: setChangeImgFile\n  } = useState([]);\n  const {\n    0: prevImg,\n    1: setPrevImg\n  } = useState('');\n  const {\n    0: value,\n    1: setValue\n  } = useState({\n    nickname: '',\n    main_title: ''\n  });\n  useEffect(() => {\n    setValue({\n      nickname: userInfo && userInfo.nickname,\n      main_title: userInfo && userInfo.main_title\n    });\n  }, []);\n\n  const handlePhotoChange = (file, prevImg) => {\n    setChangeImgFile(file);\n    setPrevImg(prevImg);\n  };\n\n  const handleInputChange = e => {\n    setValue(_objectSpread({}, value, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const handleSubmit = () => {\n    const formData = new FormData();\n    changeImgFile && changeImgFile.forEach((item, index) => formData.append(`file`, item));\n    console.log(changeImgFile, 'changeImgFile');\n    console.log(formData, 'formData');\n\n    const data = _objectSpread({}, value, {\n      user_color: userColor\n    });\n\n    console.log(data, 'data');\n    formData.append('data', JSON.stringify(data));\n    const token = localStorage.getItem('mydiary_token') && localStorage.getItem('mydiary_token');\n    const config = {\n      access_token: token\n    };\n    updateInfo(config, formData).then(res => {\n      if (res.status === 200) {\n        console.log(res.data, 'res');\n      }\n    });\n  };\n\n  return __jsx(Con, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, __jsx(Column, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, __jsx(TopCon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, __jsx(ProfileChange, {\n    clickEdit: clickEdit,\n    imgFormData: handlePhotoChange,\n    prevImg: setPrevImg,\n    showEdit: showEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }), __jsx(MarginRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, __jsx(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }, \"\\uB2C9\\uB124\\uC784\"), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, showEdit && userInfo ? __jsx(Input, {\n    name: \"nickname\",\n    defaultValue: value.nickname,\n    onChange: e => handleInputChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 19\n    }\n  }) : userInfo && userInfo.nickname)), __jsx(MarginRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, __jsx(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }, \"\\uB300\\uD45C\\uBB38\\uAD6C\"), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }, showEdit && userInfo ? __jsx(Input, {\n    name: \"main_title\",\n    defalutValue: value.main_title,\n    onChange: e => handleInputChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 19\n    }\n  }) : userInfo && userInfo.main_title)), __jsx(MarginRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, __jsx(ThemeChange, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  })), __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, showEdit && __jsx(SubmitBtn, {\n    onClick: handleSubmit,\n    userColor: userColor,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, \"\\uBCC0\\uACBD\"))))));\n}\nconst Con = styled(Container).withConfig({\n  displayName: \"EditBasicInfo__Con\",\n  componentId: \"ag8tan-0\"\n})([\"display:flex;justify-content:center;\"]);\nconst Column = styled.div.withConfig({\n  displayName: \"EditBasicInfo__Column\",\n  componentId: \"ag8tan-1\"\n})([\"display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;\"]);\nconst Row = styled.div.withConfig({\n  displayName: \"EditBasicInfo__Row\",\n  componentId: \"ag8tan-2\"\n})([\"display:flex;width:100%;\"]);\nconst MarginRow = styled(Row).withConfig({\n  displayName: \"EditBasicInfo__MarginRow\",\n  componentId: \"ag8tan-3\"\n})([\"margin-bottom:20px;align-items:center;\"]);\nconst Title = styled.div.withConfig({\n  displayName: \"EditBasicInfo__Title\",\n  componentId: \"ag8tan-4\"\n})([\"\", \";width:120px;\"], BasicTitle);\nconst TopCon = styled.div.withConfig({\n  displayName: \"EditBasicInfo__TopCon\",\n  componentId: \"ag8tan-5\"\n})([\"width:100%;background:#fafafa;padding:30px;\"]);\nconst Input = styled.input.withConfig({\n  displayName: \"EditBasicInfo__Input\",\n  componentId: \"ag8tan-6\"\n})([\"width:120px;height:20px;\"]);\nconst SubmitBtn = styled.button.withConfig({\n  displayName: \"EditBasicInfo__SubmitBtn\",\n  componentId: \"ag8tan-7\"\n})([\"\", \";margin:30px auto 0;padding:5px 10px;font-size:\", \";\"], BasicButton, theme.mFont);","map":{"version":3,"sources":["/Users/hj/develop/myproject/myDiary/client/src/containers/mypage/EditBasicInfo.js"],"names":["useState","useEffect","styled","ThemeChange","useSelector","Container","ProfileChange","theme","BasicTitle","BasicButton","updateInfo","InfoContainer","props","showEdit","clickEditPw","clickEdit","userInfo","state","common","userColor","changeImgFile","setChangeImgFile","prevImg","setPrevImg","value","setValue","nickname","main_title","handlePhotoChange","file","handleInputChange","e","target","name","handleSubmit","formData","FormData","forEach","item","index","append","console","log","data","user_color","JSON","stringify","token","localStorage","getItem","config","access_token","then","res","status","Con","Column","div","Row","MarginRow","Title","TopCon","Input","input","SubmitBtn","button","mFont"],"mappings":";;;;;;;;;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,WAAP,MAAwB,qCAAxB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,SAAP,MAAsB,mCAAtB;AACA,OAAOC,aAAP,MAA0B,qCAA1B;AACA,SAASC,KAAT,EAAgBC,UAAhB,EAA4BC,WAA5B,QAA+C,mBAA/C;AACA,SAASC,UAAT,QAA2B,gBAA3B;AAEA,eAAe,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAC3C,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,WAAZ;AAAyBC,IAAAA;AAAzB,MAAuCH,KAA7C;AACA,QAAMI,QAAQ,GAAGZ,WAAW,CAACa,KAAK,IAAIA,KAAK,CAACC,MAAN,CAAaF,QAAvB,CAA5B;AACA,QAAMG,SAAS,GAAGf,WAAW,CAACa,KAAK,IAAIA,KAAK,CAACC,MAAN,CAAaC,SAAvB,CAA7B;AACA,QAAM;AAAA,OAACC,aAAD;AAAA,OAAgBC;AAAhB,MAAoCrB,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM;AAAA,OAACsB,OAAD;AAAA,OAAUC;AAAV,MAAwBvB,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM;AAAA,OAACwB,KAAD;AAAA,OAAQC;AAAR,MAAoBzB,QAAQ,CAAC;AACjC0B,IAAAA,QAAQ,EAAE,EADuB;AAEjCC,IAAAA,UAAU,EAAE;AAFqB,GAAD,CAAlC;AAIA1B,EAAAA,SAAS,CAAC,MAAM;AACdwB,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,QAAQ,EAAEV,QAAQ,IAAIA,QAAQ,CAACU,QAAjC;AAA2CC,MAAAA,UAAU,EAAEX,QAAQ,IAAIA,QAAQ,CAACW;AAA5E,KAAD,CAAR;AACD,GAFQ,EAEN,EAFM,CAAT;;AAGA,QAAMC,iBAAiB,GAAG,CAACC,IAAD,EAAOP,OAAP,KAAmB;AAC3CD,IAAAA,gBAAgB,CAACQ,IAAD,CAAhB;AACAN,IAAAA,UAAU,CAACD,OAAD,CAAV;AACD,GAHD;;AAKA,QAAMQ,iBAAiB,GAAGC,CAAC,IAAI;AAC7BN,IAAAA,QAAQ,mBACHD,KADG;AAEN,OAACO,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASR;AAFpB,OAAR;AAID,GALD;;AAMA,QAAMU,YAAY,GAAG,MAAM;AACzB,UAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAhB,IAAAA,aAAa,IAAIA,aAAa,CAACiB,OAAd,CAAsB,CAACC,IAAD,EAAOC,KAAP,KAAiBJ,QAAQ,CAACK,MAAT,CAAiB,MAAjB,EAAwBF,IAAxB,CAAvC,CAAjB;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAYtB,aAAZ,EAA2B,eAA3B;AACAqB,IAAAA,OAAO,CAACC,GAAR,CAAYP,QAAZ,EAAsB,UAAtB;;AACA,UAAMQ,IAAI,qBACLnB,KADK;AAERoB,MAAAA,UAAU,EAAEzB;AAFJ,MAAV;;AAIAsB,IAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ,EAAkB,MAAlB;AACAR,IAAAA,QAAQ,CAACK,MAAT,CAAgB,MAAhB,EAAwBK,IAAI,CAACC,SAAL,CAAeH,IAAf,CAAxB;AAEA,UAAMI,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,eAArB,KAAyCD,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAvD;AACA,UAAMC,MAAM,GAAG;AACbC,MAAAA,YAAY,EAAEJ;AADD,KAAf;AAIArC,IAAAA,UAAU,CAACwC,MAAD,EAASf,QAAT,CAAV,CAA6BiB,IAA7B,CAAkCC,GAAG,IAAI;AACvC,UAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACtBb,QAAAA,OAAO,CAACC,GAAR,CAAYW,GAAG,CAACV,IAAhB,EAAsB,KAAtB;AACD;AACF,KAJD;AAKD,GAtBD;;AAuBA,SACE,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,aAAD;AACE,IAAA,SAAS,EAAE5B,SADb;AAEE,IAAA,WAAW,EAAEa,iBAFf;AAGE,IAAA,OAAO,EAAEL,UAHX;AAIE,IAAA,QAAQ,EAAEV,QAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAOE,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,QAAQ,IAAIG,QAAZ,GACC,MAAC,KAAD;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,YAAY,EAAEQ,KAAK,CAACE,QAA3C;AAAqD,IAAA,QAAQ,EAAEK,CAAC,IAAID,iBAAiB,CAACC,CAAD,CAArF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,GAGCf,QAAQ,IAAIA,QAAQ,CAACU,QAJzB,CAFF,CAPF,EAiBE,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGb,QAAQ,IAAIG,QAAZ,GACC,MAAC,KAAD;AAAO,IAAA,IAAI,EAAC,YAAZ;AAAyB,IAAA,YAAY,EAAEQ,KAAK,CAACG,UAA7C;AAAyD,IAAA,QAAQ,EAAEI,CAAC,IAAID,iBAAiB,CAACC,CAAD,CAAzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,GAGCf,QAAQ,IAAIA,QAAQ,CAACW,UAJzB,CAFF,CAjBF,EA2BE,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CA3BF,EA8BE,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGd,QAAQ,IACP,MAAC,SAAD;AAAW,IAAA,OAAO,EAAEqB,YAApB;AAAkC,IAAA,SAAS,EAAEf,SAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,CA9BF,CADF,CADF,CADF,CADF;AA8CD;AACD,MAAMoC,GAAG,GAAGrD,MAAM,CAACG,SAAD,CAAT;AAAA;AAAA;AAAA,4CAAT;AAIA,MAAMmD,MAAM,GAAGtD,MAAM,CAACuD,GAAV;AAAA;AAAA;AAAA,gGAAZ;AAQA,MAAMC,GAAG,GAAGxD,MAAM,CAACuD,GAAV;AAAA;AAAA;AAAA,gCAAT;AAIA,MAAME,SAAS,GAAGzD,MAAM,CAACwD,GAAD,CAAT;AAAA;AAAA;AAAA,8CAAf;AAIA,MAAME,KAAK,GAAG1D,MAAM,CAACuD,GAAV;AAAA;AAAA;AAAA,0BACPjD,UADO,CAAX;AAIA,MAAMqD,MAAM,GAAG3D,MAAM,CAACuD,GAAV;AAAA;AAAA;AAAA,mDAAZ;AAKA,MAAMK,KAAK,GAAG5D,MAAM,CAAC6D,KAAV;AAAA;AAAA;AAAA,gCAAX;AAIA,MAAMC,SAAS,GAAG9D,MAAM,CAAC+D,MAAV;AAAA;AAAA;AAAA,iEACXxD,WADW,EAIAF,KAAK,CAAC2D,KAJN,CAAf","sourcesContent":["import { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport ThemeChange from '../../components/mypage/ThemeChange';\nimport { useSelector } from 'react-redux';\nimport Container from '../../components/common/Container';\nimport ProfileChange from '../../components/common/PhotoUpload';\nimport { theme, BasicTitle, BasicButton } from '../../utils/theme';\nimport { updateInfo } from '../../api/user';\n\nexport default function InfoContainer(props) {\n  const { showEdit, clickEditPw, clickEdit } = props;\n  const userInfo = useSelector(state => state.common.userInfo);\n  const userColor = useSelector(state => state.common.userColor);\n  const [changeImgFile, setChangeImgFile] = useState([]);\n  const [prevImg, setPrevImg] = useState('');\n  const [value, setValue] = useState({\n    nickname: '',\n    main_title: ''\n  });\n  useEffect(() => {\n    setValue({ nickname: userInfo && userInfo.nickname, main_title: userInfo && userInfo.main_title });\n  }, []);\n  const handlePhotoChange = (file, prevImg) => {\n    setChangeImgFile(file);\n    setPrevImg(prevImg);\n  };\n\n  const handleInputChange = e => {\n    setValue({\n      ...value,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = () => {\n    const formData = new FormData();\n    changeImgFile && changeImgFile.forEach((item, index) => formData.append(`file`, item));\n    console.log(changeImgFile, 'changeImgFile');\n    console.log(formData, 'formData');\n    const data = {\n      ...value,\n      user_color: userColor\n    };\n    console.log(data, 'data');\n    formData.append('data', JSON.stringify(data));\n\n    const token = localStorage.getItem('mydiary_token') && localStorage.getItem('mydiary_token');\n    const config = {\n      access_token: token\n    };\n\n    updateInfo(config, formData).then(res => {\n      if (res.status === 200) {\n        console.log(res.data, 'res');\n      }\n    });\n  };\n  return (\n    <Con>\n      <Column>\n        <Row>\n          <TopCon>\n            <ProfileChange\n              clickEdit={clickEdit}\n              imgFormData={handlePhotoChange}\n              prevImg={setPrevImg}\n              showEdit={showEdit}\n            />\n            <MarginRow>\n              <Title>닉네임</Title>\n              <div>\n                {showEdit && userInfo ? (\n                  <Input name=\"nickname\" defaultValue={value.nickname} onChange={e => handleInputChange(e)} />\n                ) : (\n                  userInfo && userInfo.nickname\n                )}\n              </div>\n            </MarginRow>\n            <MarginRow>\n              <Title>대표문구</Title>\n              <div>\n                {showEdit && userInfo ? (\n                  <Input name=\"main_title\" defalutValue={value.main_title} onChange={e => handleInputChange(e)} />\n                ) : (\n                  userInfo && userInfo.main_title\n                )}\n              </div>\n            </MarginRow>\n            <MarginRow>\n              <ThemeChange />\n            </MarginRow>\n            <Row>\n              {showEdit && (\n                <SubmitBtn onClick={handleSubmit} userColor={userColor}>\n                  변경\n                </SubmitBtn>\n              )}\n            </Row>\n          </TopCon>\n        </Row>\n      </Column>\n    </Con>\n  );\n}\nconst Con = styled(Container)`\n  display: flex;\n  justify-content: center;\n`;\nconst Column = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  /* margin-top: 30px; */\n  width: 100%;\n`;\nconst Row = styled.div`\n  display: flex;\n  width: 100%;\n`;\nconst MarginRow = styled(Row)`\n  margin-bottom: 20px;\n  align-items: center;\n`;\nconst Title = styled.div`\n  ${BasicTitle};\n  width: 120px;\n`;\nconst TopCon = styled.div`\n  width: 100%;\n  background: #fafafa;\n  padding: 30px;\n`;\nconst Input = styled.input`\n  width: 120px;\n  height: 20px;\n`;\nconst SubmitBtn = styled.button`\n  ${BasicButton};\n  margin: 30px auto 0;\n  padding: 5px 10px;\n  font-size: ${theme.mFont};\n`;\n"]},"metadata":{},"sourceType":"module"}