{"ast":null,"code":"var _jsxFileName = \"/Users/hj/develop/myproject/myDiary/client/src/components/common/Header.js\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport Link from 'next/link';\nimport axios from 'axios';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { colorLuminance } from '../../utils/common';\nimport { loginCheck } from '../../api/auth';\nimport { setUserInfo, setThemeColor, setToolTip, setFont } from '../../actions/base';\nimport { useRouter } from 'next/router';\nimport { theme } from '../../utils/theme';\nimport ImgBtn from '../../components/common/ImgBtn';\nexport default function Header() {\n  const Router = useRouter();\n  const dispatch = useDispatch();\n  const userColor = useSelector(state => state.common.userColor);\n  const userInfo = useSelector(state => state.common.userInfo);\n  const isLoggedIn = useSelector(state => state.common.isLoggedIn);\n  const tooltip = useSelector(state => state.common.showToolTip);\n  const luminantColor = userColor && colorLuminance(userColor, 0.5);\n  useEffect(() => {\n    if (Router.asPath !== '/join') {\n      const showTool = JSON.parse(localStorage.getItem('showTool'));\n\n      if (showTool === false) {\n        dispatch(setToolTip(false));\n      }\n\n      const storedToken = localStorage.getItem('mydiary_token') && localStorage.getItem('mydiary_token');\n      const config = {\n        access_token: storedToken\n      };\n      loginCheck(config).then(res => {\n        if (res.status === 200 && res.data) {\n          console.log(res.data, 'loginCh');\n          dispatch(setThemeColor(res.data.user_color));\n          dispatch(setUserInfo(res.data));\n          dispatch(setFont(res.data.user_color));\n        }\n      });\n    }\n  }, []);\n\n  const handleToolTip = () => {\n    localStorage.setItem('showTool', JSON.stringify(false));\n    dispatch(setToolTip(false));\n  };\n\n  return __jsx(HeadWrap, {\n    userColor: userColor,\n    luminantColor: luminantColor,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, __jsx(Link, {\n    href: \"/blog\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, __jsx(Logo, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, \"MyBlog_\")), __jsx(ProfileContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, userInfo && (userInfo.profile_url ? __jsx(Link, {\n    href: \"/mypage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, __jsx(Img, {\n    src: userInfo.profile_url,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  })) : __jsx(StyledTitle, {\n    hoverColor: userInfo,\n    onClick: () => Router.push('/mypage'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, \"\\uB098\\uC758 \\uC0C9\\uAE54\\uC5D0 \\uB9DE\\uB294, \\uB098\\uC758 \\uB85C\\uADF8.\")), !userInfo && __jsx(StyledTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 23\n    }\n  }, \"\\uB098\\uC758 \\uC0C9\\uAE54\\uC5D0 \\uB9DE\\uB294, \\uB098\\uC758 \\uB85C\\uADF8.\"), isLoggedIn && tooltip && __jsx(ToolTipWrap, {\n    profileUrl: userInfo && userInfo.profile_url,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, __jsx(\"span\", {\n    className: \"triangle test_1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }), __jsx(ToolTip, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, \"\\uB098\\uC758 \\uC815\\uBCF4\\uB97C \", __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 22\n    }\n  }), \"\\uC785\\uB825\\uD574\\uBCF4\\uC138\\uC694!\"), __jsx(CloseBtn, {\n    src: '/images/minClose.svg',\n    width: 12,\n    height: 12,\n    onClick: handleToolTip,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }))));\n}\nconst HeadWrap = styled.header.withConfig({\n  displayName: \"Header__HeadWrap\",\n  componentId: \"dzw6po-0\"\n})([\"width:100%;max-width:765px;height:60px;position:fixed;top:0;margin:0 auto;display:flex;align-items:center;background-image:linear-gradient(90deg,\", \",\", \");z-index:101;justify-content:space-between;\"], props => props.userColor, props => props.luminantColor);\nconst Logo = styled.div.withConfig({\n  displayName: \"Header__Logo\",\n  componentId: \"dzw6po-1\"\n})([\"font-weight:bold;font-size:25px;margin-left:20px;color:#fff;cursor:pointer;\"]);\nconst ProfileContainer = styled.div.withConfig({\n  displayName: \"Header__ProfileContainer\",\n  componentId: \"dzw6po-2\"\n})([\"margin-right:20px;position:relative;\"]);\nconst StyledLink = styled.a.withConfig({\n  displayName: \"Header__StyledLink\",\n  componentId: \"dzw6po-3\"\n})([\"cursor:pointer;\"]);\nconst StyledTitle = styled.span.withConfig({\n  displayName: \"Header__StyledTitle\",\n  componentId: \"dzw6po-4\"\n})([\"color:#fff;font-size:17px;:hover{color:\", \";cursor:\", \";}\"], props => props.hoverColor && '#f7f7f7', props => props.hoverColor ? 'pointer' : '');\nconst ToolTipWrap = styled.div.withConfig({\n  displayName: \"Header__ToolTipWrap\",\n  componentId: \"dzw6po-5\"\n})([\"position:absolute;top:\", \";right:\", \";width:95px;height:50px;background:#fefefe;z-index:9;display:flex;align-items:center;justify-content:center;border-radius:3px;border:1px solid #eee;animation:motion 0.8s linear infinite alternate;margin-top:0;@keyframes motion{0%{margin-top:0px;}100%{margin-top:7px;}}.triangle{top:-19px;right:12px;position:absolute;display:inline-block;width:0;height:0;border-style:solid;border-width:10px 5px;border-radius:3px;}.triangle.test_1{border-color:transparent transparent #fefefe transparent;}\"], props => props.profileUrl ? '45px' : '30px', props => props.profileUrl ? '12px' : '0px');\nconst ToolTip = styled.div.withConfig({\n  displayName: \"Header__ToolTip\",\n  componentId: \"dzw6po-6\"\n})([\"color:#000;font-size:\", \";line-height:16px;\"], theme.ssFont);\nconst Img = styled.img.withConfig({\n  displayName: \"Header__Img\",\n  componentId: \"dzw6po-7\"\n})([\"cursor:pointer;width:\", \";height:\", \";border-radius:\", \"px;margin-right:15px;\"], props => props.width || '30px', props => props.width || '30px', props => props.width / 2 || 15);\nconst CloseBtn = styled(ImgBtn).withConfig({\n  displayName: \"Header__CloseBtn\",\n  componentId: \"dzw6po-8\"\n})([\"position:absolute;top:6px;right:6px;&:hover{background:#ddd;}\"]);","map":{"version":3,"sources":["/Users/hj/develop/myproject/myDiary/client/src/components/common/Header.js"],"names":["React","useEffect","useState","styled","Link","axios","useSelector","useDispatch","colorLuminance","loginCheck","setUserInfo","setThemeColor","setToolTip","setFont","useRouter","theme","ImgBtn","Header","Router","dispatch","userColor","state","common","userInfo","isLoggedIn","tooltip","showToolTip","luminantColor","asPath","showTool","JSON","parse","localStorage","getItem","storedToken","config","access_token","then","res","status","data","console","log","user_color","handleToolTip","setItem","stringify","profile_url","push","HeadWrap","header","props","Logo","div","ProfileContainer","StyledLink","a","StyledTitle","span","hoverColor","ToolTipWrap","profileUrl","ToolTip","ssFont","Img","img","width","CloseBtn"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport Link from 'next/link';\nimport axios from 'axios';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { colorLuminance } from '../../utils/common';\nimport { loginCheck } from '../../api/auth';\nimport { setUserInfo, setThemeColor, setToolTip, setFont } from '../../actions/base';\nimport { useRouter } from 'next/router';\nimport { theme } from '../../utils/theme';\nimport ImgBtn from '../../components/common/ImgBtn';\n\nexport default function Header() {\n  const Router = useRouter();\n  const dispatch = useDispatch();\n  const userColor = useSelector(state => state.common.userColor);\n  const userInfo = useSelector(state => state.common.userInfo);\n  const isLoggedIn = useSelector(state => state.common.isLoggedIn);\n  const tooltip = useSelector(state => state.common.showToolTip);\n  const luminantColor = userColor && colorLuminance(userColor, 0.5);\n\n  useEffect(() => {\n    if (Router.asPath !== '/join') {\n      const showTool = JSON.parse(localStorage.getItem('showTool'));\n      if (showTool === false) {\n        dispatch(setToolTip(false));\n      }\n      const storedToken = localStorage.getItem('mydiary_token') && localStorage.getItem('mydiary_token');\n      const config = {\n        access_token: storedToken\n      };\n      loginCheck(config).then(res => {\n        if (res.status === 200 && res.data) {\n          console.log(res.data, 'loginCh');\n          dispatch(setThemeColor(res.data.user_color));\n          dispatch(setUserInfo(res.data));\n          dispatch(setFont(res.data.user_color));\n        }\n      });\n    }\n  }, []);\n  const handleToolTip = () => {\n    localStorage.setItem('showTool', JSON.stringify(false));\n    dispatch(setToolTip(false));\n  };\n\n  return (\n    <HeadWrap userColor={userColor} luminantColor={luminantColor}>\n      <Link href=\"/blog\">\n        <Logo>MyBlog_</Logo>\n      </Link>\n      <ProfileContainer>\n        {userInfo &&\n          (userInfo.profile_url ? (\n            <Link href=\"/mypage\">\n              <Img src={userInfo.profile_url} />\n            </Link>\n          ) : (\n            <StyledTitle hoverColor={userInfo} onClick={() => Router.push('/mypage')}>\n              나의 색깔에 맞는, 나의 로그.\n            </StyledTitle>\n          ))}\n        {!userInfo && <StyledTitle>나의 색깔에 맞는, 나의 로그.</StyledTitle>}\n        {isLoggedIn && tooltip && (\n          <ToolTipWrap profileUrl={userInfo && userInfo.profile_url}>\n            <span className=\"triangle test_1\"></span>\n            <ToolTip>\n              나의 정보를 <br />\n              입력해보세요!\n            </ToolTip>\n            <CloseBtn src={'/images/minClose.svg'} width={12} height={12} onClick={handleToolTip} />\n          </ToolTipWrap>\n        )}\n      </ProfileContainer>\n    </HeadWrap>\n  );\n}\n\nconst HeadWrap = styled.header`\n  width: 100%;\n  max-width: 765px;\n  height: 60px;\n  position: fixed;\n  top: 0;\n  margin: 0 auto;\n  display: flex;\n  align-items: center;\n  background-image: linear-gradient(90deg, ${props => props.userColor}, ${props => props.luminantColor});\n  z-index: 101;\n  justify-content: space-between;\n`;\n\nconst Logo = styled.div`\n  font-weight: bold;\n  font-size: 25px;\n  margin-left: 20px;\n  color: #fff;\n  cursor: pointer;\n`;\nconst ProfileContainer = styled.div`\n  margin-right: 20px;\n  position: relative;\n`;\nconst StyledLink = styled.a`\n  cursor: pointer;\n`;\nconst StyledTitle = styled.span`\n  color: #fff;\n  font-size: 17px;\n  :hover {\n    color: ${props => props.hoverColor && '#f7f7f7'};\n    cursor: ${props => (props.hoverColor ? 'pointer' : '')};\n  }\n`;\n\nconst ToolTipWrap = styled.div`\n  position: absolute;\n  top: ${props => (props.profileUrl ? '45px' : '30px')};\n  right: ${props => (props.profileUrl ? '12px' : '0px')};\n  width: 95px;\n  height: 50px;\n  background: #fefefe;\n  z-index: 9;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 3px;\n  border: 1px solid #eee;\n  animation: motion 0.8s linear infinite alternate;\n  margin-top: 0;\n\n  @keyframes motion {\n    0% {\n      margin-top: 0px;\n    }\n    100% {\n      margin-top: 7px;\n    }\n  }\n\n  .triangle {\n    top: -19px;\n    right: 12px;\n    position: absolute;\n    display: inline-block;\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-width: 10px 5px;\n    border-radius: 3px;\n  }\n  .triangle.test_1 {\n    border-color: transparent transparent #fefefe transparent;\n  }\n`;\nconst ToolTip = styled.div`\n  color: #000;\n  font-size: ${theme.ssFont};\n  line-height: 16px;\n`;\nconst Img = styled.img`\n  cursor: pointer;\n  width: ${props => props.width || '30px'};\n  height: ${props => props.width || '30px'};\n  border-radius: ${props => props.width / 2 || 15}px;\n  margin-right: 15px;\n`;\nconst CloseBtn = styled(ImgBtn)`\n  position: absolute;\n  top: 6px;\n  right: 6px;\n  &:hover {\n    background: #ddd;\n  }\n`;\n"]},"metadata":{},"sourceType":"module"}