{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/hj/develop/myproject/myDiary/client/src/containers/mypage/EditMenu.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport styled, { css } from 'styled-components';\nimport { setCate } from '../../actions/base';\nimport { getCate } from '../../api/blog';\nimport { deleteCate, updateCate } from '../../api/category';\nimport Container from '../../components/common/Container';\nimport ImgBtn from '../../components/common/ImgBtn';\nimport { BasicTitle, BlueEditBtn, BasicButton, theme } from '../../utils/theme';\nexport default function ChangeMenu() {\n  var _this = this;\n\n  var dispatch = useDispatch();\n  var category = useSelector(function (state) {\n    return state.common.category;\n  });\n  var userColor = useSelector(function (state) {\n    return state.common.userColor;\n  });\n\n  var _useState = useState(false),\n      edit = _useState[0],\n      setEdit = _useState[1];\n\n  var _useState2 = useState({\n    0: {},\n    1: {},\n    2: {}\n  }),\n      cateValue = _useState2[0],\n      setCateValue = _useState2[1];\n\n  var _useState3 = useState(0),\n      cateInputCount = _useState3[0],\n      setCateInputCount = _useState3[1];\n\n  var countCate = category ? category.length : 0;\n  useEffect(function () {\n    var getToken = localStorage.getItem('mydiary_token');\n\n    if (getToken) {\n      var config = {\n        access_token: getToken\n      };\n      getCate(config).then(function (res) {\n        if (res.status === 200 && res.data) {\n          dispatch(setCate(res.data.data)); // console.log(res.data.data, 'res getCate');\n\n          var result = {};\n          res.data.data ? res.data.data.forEach(function (item, idx) {\n            result[idx] = {\n              title: item.title,\n              id: item.id\n            };\n          }) : [];\n          setCateValue(result);\n          setCateInputCount(0);\n        }\n      });\n    }\n  }, []); // console.log(cateValue, 'setCateValue');\n\n  var handleEditMenu = function handleEditMenu() {\n    setEdit(!edit);\n  };\n\n  var handleInput = function handleInput(e) {\n    var _e$target = e.target,\n        name = _e$target.name,\n        value = _e$target.value;\n    console.log(name, value);\n    setCateValue(_objectSpread({}, cateValue, _defineProperty({}, name, _objectSpread({}, cateValue[name], {\n      title: value\n    }))));\n  };\n\n  var increaseCateValue = function increaseCateValue() {\n    console.log(countCate, cateInputCount);\n    if (countCate + cateInputCount < max_category_count) setCateInputCount(cateInputCount + 1);\n  };\n\n  console.log(cateValue, 'value');\n\n  var handleDelete = function handleDelete(idx) {\n    var _tempCateValue$idx;\n\n    var tempCateValue = _objectSpread({}, cateValue);\n\n    console.log(tempCateValue, 'temp');\n\n    if (((_tempCateValue$idx = tempCateValue[idx]) === null || _tempCateValue$idx === void 0 ? void 0 : _tempCateValue$idx.id) !== undefined) {\n      var hasIdLength = Object.values(tempCateValue).filter(function (value) {\n        return !!(value === null || value === void 0 ? void 0 : value.id);\n      }).length;\n\n      if (hasIdLength <= 1) {\n        alert('메뉴는 최소 1개 이여야 합니다.');\n        return;\n      }\n\n      var confirmDelete = deleteMenu();\n\n      if (!confirmDelete) {\n        return;\n      }\n\n      console.log(tempCateValue[idx], 'ii');\n      console.log('tt');\n      var getToken = localStorage.getItem('mydiary_token');\n\n      if (getToken) {\n        var config = {\n          access_token: getToken\n        };\n        var cateId = tempCateValue[idx].id;\n        console.log(cateId, 'cateId');\n        var data = {\n          id: cateId\n        };\n        deleteCate(config, data).then(function (res) {\n          if (res.status === 200 && res.data) {\n            console.log(res.data, 'delete res.data');\n            dispatch(setCate(res.data.data));\n            console.log(res.data.data, 'res getCate');\n            var result = {};\n            res.data.data ? res.data.data.forEach(function (item, idx) {\n              result[idx] = {\n                title: item.title,\n                id: item.id\n              };\n            }) : [];\n            setCateValue(result);\n            setCateInputCount(0);\n            console.log('삭제====');\n          }\n        });\n      }\n    } else {\n      console.log('vv');\n    }\n\n    Object.keys(cateValue).forEach(function (key) {\n      if (Number(key) === idx) {\n        tempCateValue[key] = undefined; // const tempCategory = { ...category };\n        // console.log(tempCategory[key], 'tempCategory');\n        // delete tempCategory[key];\n\n        console.log('in1');\n      } else if (Number(key) > idx) {\n        //0 1 2   i\n        tempCateValue[Number(key) - 1] = cateValue[key];\n        tempCateValue[key] = undefined;\n        console.log('in2');\n      }\n\n      setCateValue(tempCateValue);\n      setCateInputCount(cateInputCount - 1);\n      console.log('in3');\n    });\n  };\n\n  var deleteMenu = function deleteMenu() {\n    if (window.confirm('메뉴에 저장된 글도 함께 삭제됩니다. 정말 삭제하시겠습니까?')) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  var handleMenuUpdate = function handleMenuUpdate() {\n    // const hasIdObj = Object.values(cateValue).filter(value => !!value?.id);\n    var hasIdArr = Object.values(cateValue).filter(function (obj) {\n      return obj.title === '';\n    });\n\n    if (hasIdArr.length > 0) {\n      alert('메뉴이름을 입력해주세요.');\n    } else {\n      // console.log(cateValue, 'arr');\n      var data = cateValue; // console.log(data, 'data');\n\n      var getToken = localStorage.getItem('mydiary_token');\n\n      if (getToken) {\n        var config = {\n          access_token: getToken\n        };\n        updateCate(config, data).then(function (res) {\n          if (res.status === 200 && res.data) {\n            dispatch(setCate(res.data.data));\n            console.log(res.data.data, ' 변경 후');\n            var result = {};\n            res.data.data ? res.data.data.forEach(function (item, idx) {\n              result[idx] = {\n                title: item.title,\n                id: item.id\n              };\n            }) : [];\n            setCateValue(result);\n            setEdit(false);\n            setCateInputCount(0);\n            alert('변경되었습니다.');\n            console.log('변경====');\n          }\n        });\n      }\n    }\n  };\n\n  var showDeleteBtn = Object.values(cateValue).filter(function (value) {\n    return !!(value === null || value === void 0 ? void 0 : value.id);\n  }).length > 1;\n  return __jsx(Con, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 5\n    }\n  }, __jsx(CenterRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }\n  }, __jsx(StyledColumn, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }\n  }, __jsx(TitleRow, {\n    edit: edit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 11\n    }\n  }, __jsx(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }\n  }, \"\\uBA54\\uB274\", __jsx(TitleInfo, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  }, \"(\\uCD5C\\uB300 3\\uAC1C, 15\\uAE00\\uC790 \\uC774\\uD558 \\uAD8C\\uC7A5) \")), __jsx(EditTitle, {\n    onClick: handleEditMenu,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }\n  }, \"\\uBA54\\uB274\\uBCC0\\uACBD\")), category && category.length > 0 && category.map(function (item, index) {\n    return edit ? __jsx(MenuRow, {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 17\n      }\n    }, __jsx(NumberFont, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 19\n      }\n    }, index + 1, \".\"), __jsx(Input, {\n      defaultValue: item.title,\n      name: category.length - 1,\n      onChange: function onChange(e) {\n        return handleInput(index, e.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 19\n      }\n    })) : __jsx(React.Fragment, null, __jsx(MenuRow, {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 19\n      }\n    }, __jsx(NumberFont, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 21\n      }\n    }, index + 1, \".\"), __jsx(MenuFont, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 21\n      }\n    }, item.title), showDeleteBtn && __jsx(CloseBtn, {\n      key: index + 3,\n      src: '/images/close.svg',\n      width: 15,\n      height: 15,\n      bg: \"#ddd\",\n      radius: \"50%\",\n      padding: 2,\n      onClick: function onClick() {\n        return handleDelete(index);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 23\n      }\n    })));\n  }), edit && __jsx(Column, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 13\n    }\n  }, cateInputCount > 0 && Array(cateInputCount).fill('').map(function (i, idx) {\n    var index = idx + category.length;\n    return __jsx(CenterLeftRow, {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 23\n      }\n    }, __jsx(NumberFont, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 25\n      }\n    }, index + 1, \".\"), __jsx(Input, {\n      name: index,\n      value: cateValue[index] ? cateValue[index].title : '',\n      onChange: function onChange(e) {\n        return handleInput(e);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 25\n      }\n    }), __jsx(CloseBtn, {\n      src: '/images/close.svg',\n      width: 15,\n      height: 15,\n      bg: \"#ddd\",\n      radius: \"50%\",\n      padding: 2,\n      onClick: function onClick() {\n        return handleDelete(index);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 25\n      }\n    }));\n  })), edit && countCate + cateInputCount < max_category_count && __jsx(MenuRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 13\n    }\n  }, __jsx(AddRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 15\n    }\n  }, __jsx(AddMenuBtn, {\n    onClick: increaseCateValue,\n    userColor: userColor,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 17\n    }\n  }, \"\\uBA54\\uB274\\uCD94\\uAC00\"))), __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 11\n    }\n  }, edit && __jsx(SubmitBtn, {\n    onClick: handleMenuUpdate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 25\n    }\n  }, \"\\uBCC0\\uACBD\")))));\n}\nvar Con = styled(Container).withConfig({\n  displayName: \"EditMenu__Con\",\n  componentId: \"yedjf2-0\"\n})([\"display:flex;\"]);\nvar Row = styled.div.withConfig({\n  displayName: \"EditMenu__Row\",\n  componentId: \"yedjf2-1\"\n})([\"display:flex;width:100%;\"]);\nvar MenuRow = styled.span.withConfig({\n  displayName: \"EditMenu__MenuRow\",\n  componentId: \"yedjf2-2\"\n})([\"width:\", \";height:\", \";margin-bottom:10px;display:flex;align-items:center;\"], function (props) {\n  return props.width ? \"\".concat(props.width, \"px\") : '';\n}, function (props) {\n  return props.height ? \"\".concat(props.height, \"px\") : '';\n});\nvar AddRow = styled.div.withConfig({\n  displayName: \"EditMenu__AddRow\",\n  componentId: \"yedjf2-3\"\n})([\"display:flex;align-items:center;\"]);\nvar CenterRow = styled.div.withConfig({\n  displayName: \"EditMenu__CenterRow\",\n  componentId: \"yedjf2-4\"\n})([\"display:flex;align-items:center;justify-content:center;width:100%;\"]);\nvar CenterLeftRow = styled.div.withConfig({\n  displayName: \"EditMenu__CenterLeftRow\",\n  componentId: \"yedjf2-5\"\n})([\"display:flex;align-items:center;margin-bottom:10px;\"]);\nvar Column = styled.div.withConfig({\n  displayName: \"EditMenu__Column\",\n  componentId: \"yedjf2-6\"\n})([\"display:flex;flex-direction:column;\"]);\nvar StyledColumn = styled(Column).withConfig({\n  displayName: \"EditMenu__StyledColumn\",\n  componentId: \"yedjf2-7\"\n})([\"width:100%;background:#fafafa;box-sizing:border-box;padding:30px;\"]);\nvar TitleRow = styled(MenuRow).withConfig({\n  displayName: \"EditMenu__TitleRow\",\n  componentId: \"yedjf2-8\"\n})([\"margin-bottom:20px;\", \"\"], function (props) {\n  return props.edit && css([\"margin-bottom:40px;\"]);\n});\nvar Title = styled.span.withConfig({\n  displayName: \"EditMenu__Title\",\n  componentId: \"yedjf2-9\"\n})([\"\", \";margin-right:20px;font-size:\", \";\"], BasicTitle, function (props) {\n  return props.theme.mlFont;\n});\nvar TitleInfo = styled.span.withConfig({\n  displayName: \"EditMenu__TitleInfo\",\n  componentId: \"yedjf2-10\"\n})([\"color:#888;\"]);\nvar MenuFont = styled.span.withConfig({\n  displayName: \"EditMenu__MenuFont\",\n  componentId: \"yedjf2-11\"\n})([\"color:\", \";\"], function (props) {\n  return props.userColor;\n});\nvar NumberFont = styled.span.withConfig({\n  displayName: \"EditMenu__NumberFont\",\n  componentId: \"yedjf2-12\"\n})([\"margin-right:20px;\"]);\nvar EditTitle = styled.span.withConfig({\n  displayName: \"EditMenu__EditTitle\",\n  componentId: \"yedjf2-13\"\n})([\"\", \"\"], BlueEditBtn);\nvar AddMenuBtn = styled.button.withConfig({\n  displayName: \"EditMenu__AddMenuBtn\",\n  componentId: \"yedjf2-14\"\n})([\"color:\", \";border:1px solid \", \";border-radius:5px;width:75px;height:33px;cursor:pointer;font-weight:bold;margin:20px 20px 0 33px;\"], function (props) {\n  return props.userColor;\n}, function (props) {\n  return props.userColor;\n});\nvar Input = styled.input.withConfig({\n  displayName: \"EditMenu__Input\",\n  componentId: \"yedjf2-15\"\n})([\"width:100px;height:20px;\"]);\nvar CloseBtn = styled(ImgBtn).withConfig({\n  displayName: \"EditMenu__CloseBtn\",\n  componentId: \"yedjf2-16\"\n})([\"margin-left:10px;\"]);\nvar max_category_count = 3;\nvar SubmitBtn = styled.button.withConfig({\n  displayName: \"EditMenu__SubmitBtn\",\n  componentId: \"yedjf2-17\"\n})([\"\", \";margin:30px auto 0;padding:5px 10px;font-size:\", \";\"], BasicButton, theme.mFont);","map":{"version":3,"sources":["/Users/hj/develop/myproject/myDiary/client/src/containers/mypage/EditMenu.js"],"names":["useEffect","useState","useDispatch","useSelector","styled","css","setCate","getCate","deleteCate","updateCate","Container","ImgBtn","BasicTitle","BlueEditBtn","BasicButton","theme","ChangeMenu","dispatch","category","state","common","userColor","edit","setEdit","cateValue","setCateValue","cateInputCount","setCateInputCount","countCate","length","getToken","localStorage","getItem","config","access_token","then","res","status","data","result","forEach","item","idx","title","id","handleEditMenu","handleInput","e","target","name","value","console","log","increaseCateValue","max_category_count","handleDelete","tempCateValue","undefined","hasIdLength","Object","values","filter","alert","confirmDelete","deleteMenu","cateId","keys","key","Number","window","confirm","handleMenuUpdate","hasIdArr","obj","showDeleteBtn","map","index","Array","fill","i","Con","Row","div","MenuRow","span","props","width","height","AddRow","CenterRow","CenterLeftRow","Column","StyledColumn","TitleRow","Title","mlFont","TitleInfo","MenuFont","NumberFont","EditTitle","AddMenuBtn","button","Input","input","CloseBtn","SubmitBtn","mFont"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport styled, { css } from 'styled-components';\nimport { setCate } from '../../actions/base';\nimport { getCate } from '../../api/blog';\nimport { deleteCate, updateCate } from '../../api/category';\nimport Container from '../../components/common/Container';\nimport ImgBtn from '../../components/common/ImgBtn';\nimport { BasicTitle, BlueEditBtn, BasicButton, theme } from '../../utils/theme';\n\nexport default function ChangeMenu() {\n  const dispatch = useDispatch();\n  const category = useSelector(state => state.common.category);\n  const userColor = useSelector(state => state.common.userColor);\n  const [edit, setEdit] = useState(false);\n  const [cateValue, setCateValue] = useState({\n    0: {},\n    1: {},\n    2: {}\n  });\n  const [cateInputCount, setCateInputCount] = useState(0);\n  const countCate = category ? category.length : 0;\n  useEffect(() => {\n    const getToken = localStorage.getItem('mydiary_token');\n    if (getToken) {\n      const config = {\n        access_token: getToken\n      };\n      getCate(config).then(res => {\n        if (res.status === 200 && res.data) {\n          dispatch(setCate(res.data.data));\n          // console.log(res.data.data, 'res getCate');\n          const result = {};\n          res.data.data\n            ? res.data.data.forEach((item, idx) => {\n                result[idx] = { title: item.title, id: item.id };\n              })\n            : [];\n          setCateValue(result);\n          setCateInputCount(0);\n        }\n      });\n    }\n  }, []);\n  // console.log(cateValue, 'setCateValue');\n  const handleEditMenu = () => {\n    setEdit(!edit);\n  };\n  const handleInput = e => {\n    const { name, value } = e.target;\n    console.log(name, value);\n    setCateValue({\n      ...cateValue,\n      [name]: { ...cateValue[name], title: value }\n    });\n  };\n  const increaseCateValue = () => {\n    console.log(countCate, cateInputCount);\n    if (countCate + cateInputCount < max_category_count) setCateInputCount(cateInputCount + 1);\n  };\n  console.log(cateValue, 'value');\n\n  const handleDelete = idx => {\n    const tempCateValue = { ...cateValue };\n    console.log(tempCateValue, 'temp');\n    if (tempCateValue[idx]?.id !== undefined) {\n      const hasIdLength = Object.values(tempCateValue).filter(value => !!value?.id).length;\n      if (hasIdLength <= 1) {\n        alert('메뉴는 최소 1개 이여야 합니다.');\n        return;\n      }\n      const confirmDelete = deleteMenu();\n      if (!confirmDelete) {\n        return;\n      }\n      console.log(tempCateValue[idx], 'ii');\n      console.log('tt');\n      const getToken = localStorage.getItem('mydiary_token');\n      if (getToken) {\n        const config = {\n          access_token: getToken\n        };\n        const cateId = tempCateValue[idx].id;\n        console.log(cateId, 'cateId');\n        const data = { id: cateId };\n        deleteCate(config, data).then(res => {\n          if (res.status === 200 && res.data) {\n            console.log(res.data, 'delete res.data');\n            dispatch(setCate(res.data.data));\n            console.log(res.data.data, 'res getCate');\n            const result = {};\n            res.data.data\n              ? res.data.data.forEach((item, idx) => {\n                  result[idx] = { title: item.title, id: item.id };\n                })\n              : [];\n            setCateValue(result);\n            setCateInputCount(0);\n            console.log('삭제====');\n          }\n        });\n      }\n    } else {\n      console.log('vv');\n    }\n    Object.keys(cateValue).forEach(key => {\n      if (Number(key) === idx) {\n        tempCateValue[key] = undefined;\n        // const tempCategory = { ...category };\n        // console.log(tempCategory[key], 'tempCategory');\n        // delete tempCategory[key];\n        console.log('in1');\n      } else if (Number(key) > idx) {\n        //0 1 2   i\n        tempCateValue[Number(key) - 1] = cateValue[key];\n        tempCateValue[key] = undefined;\n\n        console.log('in2');\n      }\n      setCateValue(tempCateValue);\n      setCateInputCount(cateInputCount - 1);\n      console.log('in3');\n    });\n  };\n\n  const deleteMenu = () => {\n    if (window.confirm('메뉴에 저장된 글도 함께 삭제됩니다. 정말 삭제하시겠습니까?')) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  const handleMenuUpdate = () => {\n    // const hasIdObj = Object.values(cateValue).filter(value => !!value?.id);\n    const hasIdArr = Object.values(cateValue).filter(obj => {\n      return obj.title === '';\n    });\n    if (hasIdArr.length > 0) {\n      alert('메뉴이름을 입력해주세요.');\n    } else {\n      // console.log(cateValue, 'arr');\n      const data = cateValue;\n      // console.log(data, 'data');\n      const getToken = localStorage.getItem('mydiary_token');\n      if (getToken) {\n        const config = {\n          access_token: getToken\n        };\n        updateCate(config, data).then(res => {\n          if (res.status === 200 && res.data) {\n            dispatch(setCate(res.data.data));\n            console.log(res.data.data, ' 변경 후');\n            const result = {};\n            res.data.data\n              ? res.data.data.forEach((item, idx) => {\n                  result[idx] = { title: item.title, id: item.id };\n                })\n              : [];\n            setCateValue(result);\n            setEdit(false);\n            setCateInputCount(0);\n            alert('변경되었습니다.');\n            console.log('변경====');\n          }\n        });\n      }\n    }\n  };\n\n  const showDeleteBtn = Object.values(cateValue).filter(value => !!value?.id).length > 1;\n\n  return (\n    <Con>\n      <CenterRow>\n        <StyledColumn>\n          <TitleRow edit={edit}>\n            <Title>\n              메뉴<TitleInfo>(최대 3개, 15글자 이하 권장) </TitleInfo>\n            </Title>\n            <EditTitle onClick={handleEditMenu}>메뉴변경</EditTitle>\n          </TitleRow>\n\n          {category &&\n            category.length > 0 &&\n            category.map((item, index) => {\n              return edit ? (\n                <MenuRow key={index}>\n                  <NumberFont>{index + 1}.</NumberFont>\n                  <Input\n                    defaultValue={item.title}\n                    name={category.length - 1}\n                    onChange={e => handleInput(index, e.target.value)}\n                  />\n                  {/* {showDeleteBtn && (\n                    <CloseBtn\n                      src={'/images/close.svg'}\n                      width={17}\n                      height={17}\n                      bg=\"#ddd\"\n                      radius=\"50%\"\n                      padding={2}\n                      onClick={() => handleDelete(index)}\n                    />\n                  )} */}\n                </MenuRow>\n              ) : (\n                <>\n                  <MenuRow key={index}>\n                    <NumberFont>{index + 1}.</NumberFont>\n                    <MenuFont>{item.title}</MenuFont>\n                    {showDeleteBtn && (\n                      <CloseBtn\n                        key={index + 3}\n                        src={'/images/close.svg'}\n                        width={15}\n                        height={15}\n                        bg=\"#ddd\"\n                        radius=\"50%\"\n                        padding={2}\n                        onClick={() => handleDelete(index)}\n                      />\n                    )}\n                  </MenuRow>\n                </>\n              );\n            })}\n\n          {edit && (\n            <Column>\n              {cateInputCount > 0 &&\n                Array(cateInputCount)\n                  .fill('')\n                  .map((i, idx) => {\n                    const index = idx + category.length;\n                    return (\n                      <CenterLeftRow key={index}>\n                        <NumberFont>{index + 1}.</NumberFont>\n                        <Input\n                          name={index}\n                          value={cateValue[index] ? cateValue[index].title : ''}\n                          onChange={e => handleInput(e)}\n                        />\n                        <CloseBtn\n                          src={'/images/close.svg'}\n                          width={15}\n                          height={15}\n                          bg=\"#ddd\"\n                          radius=\"50%\"\n                          padding={2}\n                          onClick={() => handleDelete(index)}\n                        />\n                      </CenterLeftRow>\n                    );\n                  })}\n            </Column>\n          )}\n          {edit && countCate + cateInputCount < max_category_count && (\n            <MenuRow>\n              <AddRow>\n                <AddMenuBtn onClick={increaseCateValue} userColor={userColor}>\n                  메뉴추가\n                </AddMenuBtn>\n              </AddRow>\n            </MenuRow>\n          )}\n          <Row>{edit && <SubmitBtn onClick={handleMenuUpdate}>변경</SubmitBtn>}</Row>\n        </StyledColumn>\n      </CenterRow>\n    </Con>\n  );\n}\nconst Con = styled(Container)`\n  display: flex;\n`;\nconst Row = styled.div`\n  display: flex;\n  width: 100%;\n`;\nconst MenuRow = styled.span`\n  width: ${props => (props.width ? `${props.width}px` : '')};\n  height: ${props => (props.height ? `${props.height}px` : '')};\n  margin-bottom: 10px;\n  display: flex;\n  align-items: center;\n`;\nconst AddRow = styled.div`\n  display: flex;\n  align-items: center;\n`;\nconst CenterRow = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n`;\nconst CenterLeftRow = styled.div`\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n`;\nconst Column = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\nconst StyledColumn = styled(Column)`\n  width: 100%;\n  background: #fafafa;\n  box-sizing: border-box;\n  padding: 30px;\n`;\nconst TitleRow = styled(MenuRow)`\n  margin-bottom: 20px;\n  ${props =>\n    props.edit &&\n    css`\n      margin-bottom: 40px;\n    `}\n`;\nconst Title = styled.span`\n  ${BasicTitle};\n  margin-right: 20px;\n  font-size: ${props => props.theme.mlFont};\n`;\nconst TitleInfo = styled.span`\n  color: #888;\n`;\nconst MenuFont = styled.span`\n  color: ${props => props.userColor};\n`;\nconst NumberFont = styled.span`\n  margin-right: 20px;\n`;\nconst EditTitle = styled.span`\n  ${BlueEditBtn}\n`;\nconst AddMenuBtn = styled.button`\n  color: ${props => props.userColor};\n  border: 1px solid ${props => props.userColor};\n  border-radius: 5px;\n  width: 75px;\n  height: 33px;\n  cursor: pointer;\n  font-weight: bold;\n  margin: 20px 20px 0 33px;\n`;\nconst Input = styled.input`\n  width: 100px;\n  height: 20px;\n`;\nconst CloseBtn = styled(ImgBtn)`\n  margin-left: 10px;\n`;\nconst max_category_count = 3;\n\nconst SubmitBtn = styled.button`\n  ${BasicButton};\n  margin: 30px auto 0;\n  padding: 5px 10px;\n  font-size: ${theme.mFont};\n`;\n"]},"metadata":{},"sourceType":"module"}